{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/LoaderContainer.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/LoaderContainer.jsx","components/App/App.jsx","index.js"],"names":["module","exports","getImagesByAxios","axios","create","baseURL","method","params","key","image_type","fetchImages","imgValue","page","a","hits","data","map","hit","id","webImg","webformatURL","largeImg","largeImageURL","Searchbar","handleFormSubmit","className","s","searchbar","onSubmit","e","preventDefault","value","target","elements","trim","toast","error","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","position","reverseOrder","ImageGalleryItem","imagProp","handleSelectImage","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","images","imageGallery","img","Button","onClickLoadMore","button","Modal","image","onCloseModal","useEffect","window","addEventListener","onEscape","removeEventListener","code","overlay","modal","LoaderContainer","children","loaderContainer","App","useState","setImgValue","setImages","reqStatus","setReqStatus","setPage","loader","setLoader","selectImage","setSelectImage","success","responseImages","length","prevImages","icon","scrollTo","getImages","top","document","documentElement","scrollHeight","behavior","app","imgUrl","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.48d3c160.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2p3hn\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2pjDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3cwDI\",\"modal\":\"Modal_modal__1Fjzy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2qWaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3sx-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"LoaderContainer_loaderContainer__1xiap\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3QtC2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2vDj3\",\"searchForm\":\"Searchbar_searchForm__3aI6b\",\"searchFormButton\":\"Searchbar_searchFormButton__3yrfd\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__34-Ix\",\"searchFormInput\":\"Searchbar_searchFormInput__2nBVZ\"};","import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://pixabay.com/api/';\n// axios.defaults.params = {\n//   key: '22670626-c734a5ab3fb2edefe4011dc83',\n//   image_type: 'photo'\n// };\n\nconst getImagesByAxios = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  method: 'GET',\n  params: {\n    key: '22670626-c734a5ab3fb2edefe4011dc83',\n    image_type: 'photo'\n  }\n});\n\nexport const fetchImages = async (imgValue, page) => {\n  const { data:{hits} } = await getImagesByAxios(\n    `?q=${imgValue}&page=${page}&orientation=horizontal&per_page=12`,\n  );\n\n  return hits.map(hit => ({\n    id: hit.id,\n    webImg: hit.webformatURL,\n    largeImg: hit.largeImageURL,\n  }));\n};\n","import PropTypes from 'prop-types';\n\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport s from '../Searchbar/Searchbar.module.css';\n\nconst Searchbar = ({ handleFormSubmit, imgValue }) => (\n  <header className={s.searchbar}>\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        const value = e.target.elements.imgValue.value;\n        if (imgValue.trim() !== value.trim()) {\n          handleFormSubmit(value);\n        } else {\n          toast.error(`Pleas write something`);\n        }\n        e.target.elements.imgValue.value = '';\n      }}\n      className={s.searchForm}\n    >\n      <button type=\"submit\" className={s.searchFormButton}>\n        <span className={s.searchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        name=\"imgValue\"\n        className={s.searchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n    <Toaster position=\"top-right\" reverseOrder={false} />\n  </header>\n);\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  handleFormSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = imagProp => {\n  const { id, webImg, largeImg, handleSelectImage } = imagProp;\n\n  const handleImageClick = () => {\n    handleSelectImage(largeImg);\n  };\n\n  return (\n    <li onClick={handleImageClick} className={s.imageGalleryItem}>\n      <img src={webImg} alt={id} className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleSelectImage }) => {\n  // const { id, webImg, largeImg } = images;\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(img => {\n        return (\n          <ImageGalleryItem\n            handleSelectImage={handleSelectImage}\n            {...img}\n            key={img.id}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../Button/Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      onClick={e => {\n        e.preventDefault();\n        onClickLoadMore();\n      }}\n      className={s.button}\n      type=\"button\"\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\n\n// import * as basicLightbox from 'basiclightbox'\n\nimport s from '../Modal/Modal.module.css';\n\nconst Modal = ({ image, onCloseModal }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', onEscape);\n    return () => {\n      window.removeEventListener('keydown', onEscape);\n    };\n  });\n\n  const onEscape = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n\n  return (\n    <div onClick={onCloseModal} className={s.overlay}>\n      <div className={s.modal}>\n        <img src={image} alt={image} />\n        {/* {basicLightbox.create(`\n          <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n          `).show()} */}\n      </div>\n    </div>\n  );\n};\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.onEscape);\n//   }\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.onEscape);\n//   }\n// onEscape = e => {\n//   if (e.code === 'Escape') {\n//     this.props.onCloseModal();\n//   }\n// };\n//   render() {\n//     const { image, onCloseModal } = this.props;\n\n//     return (\n//       <div onClick={onCloseModal} className={s.overlay}>\n//         <div className={s.modal}>\n//           <img src={image} alt={image} />\n//           {/* {basicLightbox.create(`\n//           <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n//           `).show()} */}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\nModal.propTypes = {\n  imgProp: PropTypes.string,\n  onCloseModal: PropTypes.func,\n};\n\nexport default Modal;\n","import s from '../Loader/LoaderContainer.module.css'\r\n\r\nconst LoaderContainer = ({ children }) => {\r\n    return <div className={s.loaderContainer}>{ children }</div>\r\n}\r\n\r\nexport default LoaderContainer;","import { useState, useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Loader from 'react-loader-spinner';\nimport { fetchImages } from '../../services/api';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport LoaderContainer from '../Loader/LoaderContainer';\nimport s from '../App/App.module.css';\n\nconst App = () => {\n  const [imgValue, setImgValue] = useState('');\n  const [images, setImages] = useState([]);\n  const [reqStatus, setReqStatus] = useState('idle');\n  const [page, setPage] = useState(1);\n  const [loader, setLoader] = useState(false);\n  const [selectImage, setSelectImage] = useState(null);\n\n  useEffect(() => {\n    async function getImages() {\n\n      if (imgValue === '') {\n        toast.success('hello my friends');\n        return;\n      }\n\n      try {\n        setReqStatus('idle');\n        const responseImages = await fetchImages(imgValue, page);\n        setLoader(true);\n\n        if (!responseImages.length) {\n          setImages([]);\n          setPage(1);\n          toast.error('your images not find.');\n          return;\n        }\n\n        setImages(prevImages => [...prevImages, ...responseImages]);\n        setReqStatus('resolved');\n        toast(`its your, ${imgValue}s!`, { icon: 'ðŸ‘' });\n        \n      } catch (error) {\n        toast.error(\"This didn't work.\");\n        \n      } finally {\n        setLoader(false);\n        scrollTo();\n      }\n    }\n    getImages();\n    \n  }, [imgValue, page]);\n\n  const handleFormSubmit = imgValue => {\n    if (imgValue.trim() === '') {\n      toast.error('Pleas write something');\n      return;\n    }\n    setImgValue(imgValue);\n    setPage(1);\n    setImages([]);\n    setLoader(true);\n  };\n\n  const loadMoreClick = e => {\n    setPage(page + 1);\n    setLoader(true);\n  };\n\n  const handleSelectImage = imgUrl => {\n    setSelectImage(imgUrl);\n  };\n\n  const onCloseModal = () => {\n    setSelectImage(null);\n  };\n\n  const scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  return (\n    <div className={s.app}>\n      <Searchbar handleFormSubmit={handleFormSubmit} imgValue={imgValue} />\n      <ImageGallery images={images} handleSelectImage={handleSelectImage} />\n      {selectImage && <Modal image={selectImage} onCloseModal={onCloseModal} />}\n      <LoaderContainer>\n        {reqStatus === 'resolved' &&  (\n          <Button onClickLoadMore={loadMoreClick} />\n        )}\n        {loader !== false && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n      </LoaderContainer>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App.jsx';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}