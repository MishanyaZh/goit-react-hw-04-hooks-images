{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/LoaderContainer.styled.jsx","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","LoaderContainer","styled","div","axios","defaults","baseURL","fetchImages","imgValue","page","a","get","data","hits","map","hit","id","webImg","webformatURL","largeImg","largeImageURL","Searchbar","handleFormSubmit","className","s","searchbar","onSubmit","e","preventDefault","value","target","elements","trim","toast","error","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","position","reverseOrder","ImageGalleryItem","imagProp","handleSelectImage","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","images","imageGallery","img","key","Button","onClickLoadMore","button","Modal","image","onCloseModal","useEffect","window","addEventListener","onEscape","removeEventListener","code","overlay","modal","App","useState","setImgValue","setImages","reqStatus","setrReqStatus","setPage","loader","setLoader","selectImage","setSelectImage","then","responseImages","length","prevImages","scrollTo","icon","top","document","documentElement","scrollHeight","behavior","app","imgUrl","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,uCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,qICCnOC,E,MAAkBC,EAAOC,IAAV,sK,2DCA5BC,IAAMC,SAASC,QAAU,2BACzB,IAEaC,EAAW,uCAAG,WAAOC,EAAUC,GAAjB,iBAAAC,EAAA,sEACFN,IAAMO,IAAN,aACfH,EADe,iBACEC,EADF,gBAHT,qCAGS,yDADE,uBACjBG,EADiB,EACjBA,KADiB,kBAKlBA,EAAKC,KAAKC,KAAI,SAAAC,GAAG,MAAK,CAC3BC,GAAID,EAAIC,GACRC,OAAQF,EAAIG,aACZC,SAAUJ,EAAIK,mBARS,2CAAH,wD,uBCkCTC,EAjCG,SAAC,GAAD,IAAGC,EAAH,EAAGA,iBAAiBd,EAApB,EAAoBA,SAApB,OAChB,yBAAQe,UAAWC,IAAEC,UAArB,UACE,uBACEC,SAAU,SAAAC,GACRA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAOC,SAASvB,SAASqB,MAEpB,KAAjBA,EAAMG,OAAgBxB,IAAWqB,EACnCP,EAAiBO,GAEjBI,IAAMC,MAAM,yBAEdP,EAAEG,OAAOC,SAASvB,SAASqB,MAAQ,IAErCN,UAAWC,IAAEW,WAZf,UAcE,wBAAQC,KAAK,SAASb,UAAWC,IAAEa,iBAAnC,SACE,sBAAMd,UAAWC,IAAEc,sBAAnB,sBAGF,uBACEC,KAAK,WACLhB,UAAWC,IAAEgB,gBACbJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,gCAGhB,cAAC,IAAD,CAASC,SAAS,YAAYC,cAAc,Q,yBCjBjCC,EAdU,SAAAC,GACvB,IAAQ/B,EAA4C+B,EAA5C/B,GAAIC,EAAwC8B,EAAxC9B,OAAQE,EAAgC4B,EAAhC5B,SAAU6B,EAAsBD,EAAtBC,kBAM9B,OACE,oBAAIC,QALmB,WACvBD,EAAkB7B,IAIaI,UAAWC,IAAE0B,iBAA5C,SACE,qBAAKC,IAAKlC,EAAQmC,IAAKpC,EAAIO,UAAWC,IAAE6B,2B,iBCU/BC,EAjBM,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,OAAQP,EAAwB,EAAxBA,kBAE9B,OACE,oBAAIzB,UAAWC,IAAEgC,aAAjB,SACGD,EAAOzC,KAAI,SAAA2C,GACV,OACE,wBAAC,EAAD,yBACET,kBAAmBA,GACfS,GAFN,IAGEC,IAAKD,EAAIzC,Y,iBCIN2C,EAfA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBAChB,OACE,wBACEX,QAAS,SAAAtB,GACPA,EAAEC,iBACFgC,KAEFrC,UAAWC,IAAEqC,OACbzB,KAAK,SANP,wB,iBC4DW0B,EA3DD,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aACtBC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAW,SAAAzC,GACA,WAAXA,EAAE2C,MACJN,KAIJ,OACE,qBAAKf,QAASe,EAAczC,UAAWC,IAAE+C,QAAzC,SACE,qBAAKhD,UAAWC,IAAEgD,MAAlB,SACE,qBAAKrB,IAAKY,EAAOX,IAAKW,SC2FfU,EArGH,WACV,MAAgCC,mBAAS,IAAzC,mBAAOlE,EAAP,KAAiBmE,EAAjB,KACA,EAA4BD,mBAAS,IAArC,mBAAOnB,EAAP,KAAeqB,EAAf,KACA,EAAmCF,mBAAS,QAA5C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAwBJ,mBAAS,GAAjC,mBAAOjE,EAAP,KAAasE,EAAb,KACA,EAA4BL,oBAAS,GAArC,mBAAOM,EAAP,KAAeC,EAAf,KACA,EAAsCP,mBAAS,MAA/C,mBAAOQ,EAAP,KAAoBC,EAApB,KAEAlB,qBAAU,WACV,GAAwB,KAApBzD,EAASwB,OACX,IACE8C,EAAc,QAEdvE,EAAYC,EAAUC,GAAM2E,MAAK,SAAAC,GAI/B,GAFFJ,GAAU,IAEHI,EAAeC,OAMlB,OALAL,GAAU,GACVL,EAAU,IACVE,EAAc,YACdC,EAAQ,QACR9C,IAAMC,MAAM,yBAId0C,GAAU,SAAAW,GAAU,4BAAQA,GAAR,YAAuBF,OAC3CJ,GAAU,GACVO,IACAV,EAAc,YACd7C,YAAM,aAAD,OAAczB,EAAd,MAA4B,CAAEiF,KAAM,oBAG3C,MAAOvD,GACP4C,EAAc,YACd7C,IAAMC,MAAM,qBAzBd,QA2BE+C,GAAU,MAGX,CAACzE,EAAUC,IAEd,IAoBM+E,EAAW,WACftB,OAAOsB,SAAS,CACdE,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,YAId,OACE,sBAAKvE,UAAWC,IAAEuE,IAAlB,UACE,cAAC,EAAD,CACEzE,iBA9BmB,SAAAd,GACvBmE,EAAYnE,GACZuE,EAAQ,GACRH,EAAU,IACVK,GAAU,IA2BNzE,SAAUA,IAEZ,cAAC,EAAD,CACE+C,OAAQA,EACRP,kBAvBoB,SAAAgD,GACxBb,EAAea,MAwBZd,GACC,cAAC,EAAD,CAAOnB,MAAOmB,EAAalB,aAtBZ,WACnBmB,EAAe,SAuBb,eAAClF,EAAD,WACiB,aAAd4E,IAA6BG,GAC5B,cAAC,EAAD,CAAQpB,gBAnCM,SAAAjC,GACpBoD,EAAQtE,EAAO,GACfwE,GAAU,OAmCM,IAAXD,GACC,cAAC,IAAD,CACE5C,KAAK,OACL6D,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,SAIf,cAAC,IAAD,CAASxD,SAAS,YAAYC,cAAc,QCzGlDwD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFZ,SAASa,eAAe,W","file":"static/js/main.2393ca95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2p3hn\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2pjDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3cwDI\",\"modal\":\"Modal_modal__1Fjzy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3QtC2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2qWaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3sx-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2vDj3\",\"searchForm\":\"Searchbar_searchForm__3aI6b\",\"searchFormButton\":\"Searchbar_searchFormButton__3yrfd\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__34-Ix\",\"searchFormInput\":\"Searchbar_searchFormInput__2nBVZ\"};","import styled from '@emotion/styled';\n\nexport const LoaderContainer = styled.div`\n  position: relative;\n  text-align: center;\n  display: inline-block;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '22670626-c734a5ab3fb2edefe4011dc83';\n\nexport const fetchImages = async (imgValue, page) => {\n  const { data } = await axios.get(\n    `?q=${imgValue}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\n  return data.hits.map(hit => ({\n    id: hit.id,\n    webImg: hit.webformatURL,\n    largeImg: hit.largeImageURL,\n  }));\n};\n","import PropTypes from 'prop-types';\n\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport s from '../Searchbar/Searchbar.module.css';\n\nconst Searchbar = ({ handleFormSubmit,imgValue }) => (\n  <header className={s.searchbar}>\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        const value = e.target.elements.imgValue.value;\n\n        if (value.trim() !== '' & imgValue!==value) {\n          handleFormSubmit(value);\n        } else {\n          toast.error('Pleas write something');\n        }\n        e.target.elements.imgValue.value = '';\n      }}\n      className={s.searchForm}\n    >\n      <button type=\"submit\" className={s.searchFormButton}>\n        <span className={s.searchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        name=\"imgValue\"\n        className={s.searchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n    <Toaster position=\"top-right\" reverseOrder={false} />\n  </header>\n);\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  handleFormSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = imagProp => {\n  const { id, webImg, largeImg, handleSelectImage } = imagProp;\n\n  const handleImageClick = () => {\n    handleSelectImage(largeImg);\n  };\n\n  return (\n    <li onClick={handleImageClick} className={s.imageGalleryItem}>\n      <img src={webImg} alt={id} className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleSelectImage }) => {\n  // const { id, webImg, largeImg } = images;\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(img => {\n        return (\n          <ImageGalleryItem\n            handleSelectImage={handleSelectImage}\n            {...img}\n            key={img.id}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../Button/Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      onClick={e => {\n        e.preventDefault();\n        onClickLoadMore();\n      }}\n      className={s.button}\n      type=\"button\"\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\n\n// import * as basicLightbox from 'basiclightbox'\n\nimport s from '../Modal/Modal.module.css';\n\nconst Modal = ({ image, onCloseModal }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', onEscape);\n    return () => {\n      window.removeEventListener('keydown', onEscape);\n    };\n  });\n\n  const onEscape = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n\n  return (\n    <div onClick={onCloseModal} className={s.overlay}>\n      <div className={s.modal}>\n        <img src={image} alt={image} />\n        {/* {basicLightbox.create(`\n          <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n          `).show()} */}\n      </div>\n    </div>\n  );\n};\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.onEscape);\n//   }\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.onEscape);\n//   }\n// onEscape = e => {\n//   if (e.code === 'Escape') {\n//     this.props.onCloseModal();\n//   }\n// };\n//   render() {\n//     const { image, onCloseModal } = this.props;\n\n//     return (\n//       <div onClick={onCloseModal} className={s.overlay}>\n//         <div className={s.modal}>\n//           <img src={image} alt={image} />\n//           {/* {basicLightbox.create(`\n//           <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n//           `).show()} */}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\nModal.propTypes = {\n  imgProp: PropTypes.string,\n  onCloseModal: PropTypes.func,\n};\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\n// import {Component} from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Loader from 'react-loader-spinner';\nimport { LoaderContainer } from '../Loader/LoaderContainer.styled.jsx';\n\nimport s from '../App/App.module.css';\nimport { fetchImages } from '../../services/api';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nconst App = () => {\n  const [imgValue, setImgValue] = useState('');\n  const [images, setImages] = useState([]);\n  const [reqStatus, setrReqStatus] = useState('idle');\n  const [page, setPage] = useState(1);\n  const [loader, setLoader] = useState(false);\n  const [selectImage, setSelectImage] = useState(null);\n\n  useEffect(() => {\n  if (imgValue.trim() !== '') {\n    try {\n      setrReqStatus('idle')\n\n      fetchImages(imgValue, page).then(responseImages => {\n\n      setLoader(true);\n\n        if (!responseImages.length) {\n          setLoader(false);\n          setImages([]);\n          setrReqStatus('rejected');\n          setPage(1)\n          toast.error('your images not find.');\n          return;\n        }\n\n        setImages(prevImages => [...prevImages, ...responseImages]);\n        setLoader(false);\n        scrollTo();\n        setrReqStatus('resolved');\n        toast(`its your, ${imgValue}s!`, { icon: '👏', });\n\n      })\n    } catch (error) {\n      setrReqStatus('rejected');\n      toast.error(\"This didn't work.\");\n    } finally {\n      setLoader(false);\n    }\n  }\n  }, [imgValue, page])\n\n  const handleFormSubmit = imgValue => {\n    setImgValue(imgValue);\n    setPage(1);\n    setImages([]);\n    setLoader(true);\n  };\n\n  const loadMoreClick = e => {\n    setPage(page + 1);\n    setLoader(true);\n  };\n\n  const handleSelectImage = imgUrl => {\n    setSelectImage(imgUrl)\n  };\n\n  const onCloseModal = () => {\n    setSelectImage(null);\n  };\n\n  const scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  \n  return (\n    <div className={s.app}>\n      <Searchbar\n        handleFormSubmit={handleFormSubmit}\n        imgValue={imgValue}\n      />\n      <ImageGallery\n        images={images}\n        handleSelectImage={handleSelectImage}\n      />\n      {selectImage && (\n        <Modal image={selectImage} onCloseModal={onCloseModal} />\n      )}\n      <LoaderContainer>\n        {reqStatus === 'resolved' && !loader && (\n          <Button onClickLoadMore={loadMoreClick} />\n        )}\n        {loader !== false && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n      </LoaderContainer>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n    </div>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}