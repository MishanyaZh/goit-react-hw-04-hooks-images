(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2p3hn",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2pjDk"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__3cwDI",modal:"Modal_modal__1Fjzy"}},29:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2qWaS"}},30:function(e,t,a){e.exports={button:"Button_button__3sx-E"}},31:function(e,t,a){e.exports={loaderContainer:"LoaderContainer_loaderContainer__1xiap"}},32:function(e,t,a){e.exports={app:"App_app__3QtC2"}},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2vDj3",searchForm:"Searchbar_searchForm__3aI6b",searchFormButton:"Searchbar_searchFormButton__3yrfd",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__34-Ix",searchFormInput:"Searchbar_searchFormInput__2nBVZ"}},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(26),o=a.n(c),s=a(6),i=a.n(s),l=a(17),u=a(10),m=a(5),b=a(4),h=a(27),d=a.n(h),j=a(28),p=a.n(j).a.create({baseURL:"https://pixabay.com/api/",method:"GET",params:{key:"22670626-c734a5ab3fb2edefe4011dc83",image_type:"photo"}}),f=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("?q=".concat(t,"&page=").concat(a,"&orientation=horizontal&per_page=12"));case 2:return r=e.sent,n=r.data.hits,e.abrupt("return",n.map((function(e){return{id:e.id,webImg:e.webformatURL,largeImg:e.largeImageURL}})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=a(7),O=a.n(g),x=a(1),_=function(e){var t=e.handleFormSubmit,a=e.imgValue;return Object(x.jsxs)("header",{className:O.a.searchbar,children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=e.target.elements.imgValue.value;a.trim()!==r.trim()?t(r):b.b.error("Pleas write something"),e.target.reset()},className:O.a.searchForm,children:[Object(x.jsx)("button",{type:"submit",className:O.a.searchFormButton,children:Object(x.jsx)("span",{className:O.a.searchFormButtonLabel,children:"Search"})}),Object(x.jsx)("input",{name:"imgValue",className:O.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),Object(x.jsx)(b.a,{position:"top-right",reverseOrder:!1})]})},v=a(14),y=a(15),I=a.n(y),w=function(e){var t=e.id,a=e.webImg,r=e.largeImg,n=e.handleSelectImage;return Object(x.jsx)("li",{onClick:function(){n(r)},className:I.a.imageGalleryItem,children:Object(x.jsx)("img",{src:a,alt:t,className:I.a.imageGalleryItemImage})})},S=a(29),k=a.n(S),F=function(e){var t=e.images,a=e.handleSelectImage;return Object(x.jsx)("ul",{className:k.a.imageGallery,children:t.map((function(e){return Object(r.createElement)(w,Object(v.a)(Object(v.a)({handleSelectImage:a},e),{},{key:e.id}))}))})},C=a(30),G=a.n(C),N=function(e){var t=e.onClickLoadMore;return Object(x.jsx)("button",{onClick:function(e){e.preventDefault(),t()},className:G.a.button,type:"button",children:"Load more"})},L=a(16),B=a.n(L),E=function(e){var t=e.image,a=e.onCloseModal;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&a()};return Object(x.jsx)("div",{onClick:a,className:B.a.overlay,children:Object(x.jsx)("div",{className:B.a.modal,children:Object(x.jsx)("img",{src:t,alt:t})})})},M=a(31),D=a.n(M),V=function(e){var t=e.children;return Object(x.jsx)("div",{className:D.a.loaderContainer,children:t})},P=a(32),R=a.n(P),T=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),s=o[0],h=o[1],j=Object(r.useState)("idle"),p=Object(m.a)(j,2),g=p[0],O=p[1],v=Object(r.useState)(1),y=Object(m.a)(v,2),I=y[0],w=y[1],S=Object(r.useState)(!1),k=Object(m.a)(S,2),C=k[0],G=k[1],L=Object(r.useState)(null),B=Object(m.a)(L,2),M=B[0],D=B[1];Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=3;break}return b.b.success("hello my friends"),e.abrupt("return");case 3:return e.prev=3,O("idle"),e.next=7,f(a,I);case 7:if(t=e.sent,G(!0),t.length){e.next=14;break}return h([]),w(1),b.b.error("your images not find."),e.abrupt("return");case 14:h((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),O("resolved"),Object(b.b)("its your, ".concat(a,"s!"),{icon:"\ud83d\udc4f"}),P(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),b.b.error("This didn't work.");case 23:return e.prev=23,G(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[3,20,23,26]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,I]);var P=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(x.jsxs)("div",{className:R.a.app,children:[Object(x.jsx)(_,{handleFormSubmit:function(e){""!==e.trim()?(n(e),w(1),h([]),G(!0)):b.b.error("Pleas write something")},imgValue:a}),Object(x.jsx)(F,{images:s,handleSelectImage:function(e){D(e)}}),M&&Object(x.jsx)(E,{image:M,onCloseModal:function(){D(null)}}),Object(x.jsxs)(V,{children:["resolved"===g&&Object(x.jsx)(N,{onClickLoadMore:function(e){w(I+1),G(!0)}}),!1!==C&&Object(x.jsx)(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})]}),Object(x.jsx)(b.a,{position:"top-right",reverseOrder:!1})]})};a(78);o.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(T,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.74c5828c.chunk.js.map