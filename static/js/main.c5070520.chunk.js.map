{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/LoaderContainer.styled.jsx","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","LoaderContainer","styled","div","axios","defaults","baseURL","fetchImages","imgValue","page","a","get","data","hits","map","hit","id","webImg","webformatURL","largeImg","largeImageURL","Searchbar","onSubmit","className","s","searchbar","e","preventDefault","value","target","elements","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","imagProp","handleSelectImage","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","images","imageGallery","img","key","Button","onClickLoadMore","button","Modal","image","onCloseModal","useEffect","window","addEventListener","onEscape","removeEventListener","code","overlay","modal","App","state","reqStatus","loader","selectImage","setState","imgUrl","handleFormSubmit","loadMoreClick","scrollTo","top","document","documentElement","scrollHeight","behavior","_","prevState","this","trim","toast","error","length","icon","app","color","height","width","timeout","position","reverseOrder","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c5070520.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2p3hn\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2pjDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3cwDI\",\"modal\":\"Modal_modal__1Fjzy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3QtC2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2qWaS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3sx-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2vDj3\",\"searchForm\":\"Searchbar_searchForm__3aI6b\",\"searchFormButton\":\"Searchbar_searchFormButton__3yrfd\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__34-Ix\",\"searchFormInput\":\"Searchbar_searchFormInput__2nBVZ\"};","import styled from '@emotion/styled';\n\nexport const LoaderContainer = styled.div`\n  position: relative;\n  text-align: center;\n  display: inline-block;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '22670626-c734a5ab3fb2edefe4011dc83';\n\nexport const fetchImages = async (imgValue, page) => {\n  const { data } = await axios.get(\n    `?q=${imgValue}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\n  return data.hits.map(hit => ({\n    id: hit.id,\n    webImg: hit.webformatURL,\n    largeImg: hit.largeImageURL,\n  }));\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../Searchbar/Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => (\n  <header className={s.searchbar}>\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        const value = e.target.elements.imgValue.value;\n        onSubmit(value);\n\n        e.target.elements.imgValue.value = '';\n      }}\n      className={s.searchForm}\n    >\n      <button type=\"submit\" className={s.searchFormButton}>\n        <span className={s.searchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        name=\"imgValue\"\n        className={s.searchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = imagProp => {\n  const { id, webImg, largeImg, handleSelectImage } = imagProp;\n\n  const handleImageClick = () => {\n    handleSelectImage(largeImg);\n  };\n\n  return (\n    <li onClick={handleImageClick} className={s.imageGalleryItem}>\n      <img src={webImg} alt={id} className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleSelectImage }) => {\n  // const { id, webImg, largeImg } = images;\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(img => {\n        return (\n          <ImageGalleryItem\n            handleSelectImage={handleSelectImage}\n            {...img}\n            key={img.id}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  handleSelectImage: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../Button/Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      onClick={e => {\n        e.preventDefault();\n        onClickLoadMore();\n      }}\n      className={s.button}\n      type=\"button\"\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\n\n// import * as basicLightbox from 'basiclightbox'\n\nimport s from '../Modal/Modal.module.css';\n\nconst Modal = ({ image, onCloseModal }) => {\n  \n  useEffect(() => {\n    window.addEventListener('keydown', onEscape);\n    return () => {\n    window.removeEventListener('keydown', onEscape);\n    };\n  }, )\n\n   const onEscape = e => {\n    if (e.code === 'Escape') {\n      onCloseModal();\n    }\n  };\n   \n  return (\n      <div onClick={onCloseModal} className={s.overlay}>\n        <div className={s.modal}>\n          <img src={image} alt={image} />\n          {/* {basicLightbox.create(`\n          <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n          `).show()} */}\n        </div>\n      </div>\n    );\n};\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.onEscape);\n//   }\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.onEscape);\n//   }\n  // onEscape = e => {\n  //   if (e.code === 'Escape') {\n  //     this.props.onCloseModal();\n  //   }\n  // };\n//   render() {\n//     const { image, onCloseModal } = this.props;\n\n//     return (\n//       <div onClick={onCloseModal} className={s.overlay}>\n//         <div className={s.modal}>\n//           <img src={image} alt={image} />\n//           {/* {basicLightbox.create(`\n//           <img src=${image} alt=${image} width=\"800\" height=\"600\"/>\n//           `).show()} */}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\nModal.propTypes = {\n  imgProp: PropTypes.string,\n  onCloseModal: PropTypes.func,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Loader from 'react-loader-spinner';\nimport { LoaderContainer } from '../Loader/LoaderContainer.styled.jsx';\n\nimport s from '../App/App.module.css';\nimport { fetchImages } from '../../services/api';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nclass App extends Component {\n  state = {\n    imgValue: null,\n    images: [],\n    reqStatus: 'idle',\n    // idle, pending, resolved, rejected\n    page: 1,\n    loader: false,\n    selectImage: null,\n  };\n\n  async componentDidUpdate(_, prevState) {\n\n    const { imgValue, page } = this.state;\n    \n    if (prevState.imgValue !== imgValue || prevState.page !== page) {\n      this.setState({ loader: true });\n\n      if (imgValue.trim() === '') {\n        this.setState({\n          reqStatus: 'pending',\n        });\n        toast.error('Pleas write something');\n        return;\n      }\n\n      try {\n        const images = await fetchImages(imgValue, page);\n        this.setState({\n          reqStatus: 'idle',\n        });\n\n        if (!images.length) {\n          this.setState({\n            reqStatus: 'rejected',\n            images: [],\n            page: 1,\n          });\n          toast.error('your images not find.');\n          return;\n        }\n\n        if (prevState.imgValue !== imgValue) {\n          this.setState({\n            images: [],\n            page: 1,\n          });\n        }\n\n        this.setState(prevState => {\n          return {\n            images: [...prevState.images, ...images],\n            reqStatus: 'resolved',\n            // loader: false,\n          };\n        });\n\n        this.scrollTo();\n\n        toast(`its your, ${imgValue}s!`, {\n          icon: 'ðŸ‘',\n        });\n      } catch (error) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error(\"This didn't work.\");\n      } finally {\n        this.setState({ loader: false });\n      }\n    }\n  }\n\n  onCloseModal = () => {\n    this.setState({ selectImage: null });\n  };\n\n  handleSelectImage = imgUrl => {\n    this.setState({ selectImage: imgUrl });\n  };\n\n  handleFormSubmit = imgValue => {\n    this.setState({\n      imgValue,\n      page: 1,\n      loader: true,\n    });\n  };\n\n  loadMoreClick = e => {\n    this.setState({\n      page: this.state.page + 1,\n    });\n  };\n\n  scrollTo = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, reqStatus, loader, selectImage } = this.state;\n\n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          images={images}\n          handleSelectImage={this.handleSelectImage}\n        />\n\n        {selectImage && (\n          <Modal image={selectImage} onCloseModal={this.onCloseModal} />\n        )}\n\n        <LoaderContainer>\n          {reqStatus === 'resolved' && !loader && (\n            <Button onClickLoadMore={this.loadMoreClick} />\n          )}\n\n          {loader !== false && (\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          )}\n        </LoaderContainer>\n        <Toaster position=\"top-right\" reverseOrder={false} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}